---
title: SCNUOJ Problemsetting Guide
description: 
published: true
date: 2020-11-04T13:29:49.549Z
tags: scnuoj, problemsetting
editor: markdown
---

> 本文为华南师范大学软件学院在线判题系统 SCNUOJ 出题指南（助教版）。下面的内容糅杂了编者的一些个人观点，故仅供参考。编写本文时参考到了 OI Wiki 的相关内容。
{.is-info}

## SCNUOJ 判题原理

对于每道程序设计题目，解题思路和代码实现方式都不是唯一的，一个很简单的例子，输出 `SCNUOJ`，在 C++ 下就可以使用下面这些方式：

```cpp
printf("SCNUOJ\n");
puts("SCNUOJ");
std::cout << "SCNUOJ" << std::endl;
```

怎么判断一份代码是否符合题目要求呢?逐份代码人工审查肯定是不可能的，在线判题系统是通过一系列自动化、标准化的测试衡量一份代码是否正确的。SCNUOJ 有两种判题方式，一种叫文本对比，一种叫 Special Judge。但无论是哪种方式，SCNUOJ 都会先编译学生提供的代码，然后反复运行这个程序，通过一系列事先准备好的测试数据验证程序能否给出期望的输出。

例如学生提交了一份 C++ 代码，SCNUOJ 先把这份代码保存为 `Main.cc`，接下来就会编译这份代码：

```
g++ -fno-asm -O2 -Wall -lm --static -std=c++14 -DONLINE_JUDGE -o Main Main.cc
```

> 编译时使用的参数在 https://oj.socoding.cn/wiki/index 有说明。
{.is-info}

编译结束后会得到一个 `Main` 可执行文件。由于我们在上传题目的时候提供了若干组测试数据，也就是 `1.in`、`1.out` 这样的纯文本文件。SCNUOJ 就会利用这些文件测试这个可执行文件，具体来说就是将 `*.in` 作为标准输入，然后捕获并储存 `Main` 的标准输出。

形象一点，对于测试点一，SCNUOJ 就相当与在 Linux 系统下执行：

```
(./Main < 1.in) > outfile.txt
```

`outfile.txt` 就是接下来评判代码是否正确的依据。

对于文本比较方式，SCNUOJ 会直接将选手的输出 `outfile.txt` 和标准答案 `*.out` 比较。形象一点，对于测试点一， SCNUOJ 就相当与在 Linux 系统下执行：

```
diff outfile.txt 1.out
```

对于 Special Judge 方式，情况则复杂一些，请查阅 https://oj.socoding.cn/wiki/spj ，我们会在后续章节进一步指导你如何编写 Special Judge 答案检查器。


## 出题前的准备

### 抱有认真负责的态度
出题是为了给别人做的，本质上是服务他人，让学生在做题时能有所收获，强化程序设计思维，从而达到课程教学目的；而不是与学生较量，劝退学生，逼迫学生转专业。题目质量不过关，不但会影响学生的做题体验，学生疑问多起来最终也是占用自己的时间。

### 自己先尝试动手做题
如果没有接触 OI/ACM 或任何程序设计竞赛，在可能的前提下，在 Codeforces 注册一个账号并尝试完成上面的程序设计题目（不需要是难题，题目 Rating 值小于 1000 的就行，基本就是面向大一新生 AK 杯的那种难度）。Codeforces 是目前最为出名的在线判题系统，题目的上传有着非常严格的把关，近五年的题目在题面排版、数据、输入输出表述方式上是无懈可击的，在做题的过程中可以感受一下。出题思路也非常值得参考。

- Codeforces 游玩攻略 https://www.luogu.com.cn/blog/ezoixx130/codeforces-tutorial
- Codeforces 在线判题系统 http://codeforces.com/

## 题目准备

### 造题系统

SCNUOJ 目前有两套造题系统，Polygon System（对所有人开放）和管理员后台自带的造题系统（对管理员和助教开放）。**所有题目都需要在这两套造题系统中准备。** 两者各有优缺点，使用起来都非常容易上手，大家目前可以根据自己的需要进行选择，我们会在后期逐步合并两个造题系统的功能。

- Polygon System https://oj.socoding.cn/polygon
- 管理员后台自带的造题系统 https://oj.socoding.cn/admin/problem/index

下面是 Polygon System 提供的一些特性：

- 支持上传标程代码后利用标程代码自动生成测试数据的 `*.out` 文件。

> 在 Polygon System 造的题目需要先同步到管理员后台自带的造题系统才能在 SCNUOJ 中使用。同步方式就是访问 https://oj.socoding.cn/admin/problem/create-from-polygon 并输入 Polygon System 的题目 ID。
{.is-warning}

下面是管理员后台自带的造题系统提供的一些特性：

- 支持 Special Judge 题目的验题。

在完成造题（如果在 Polygon System 完成造题后要先完成同步）之后，即可直接在小组作业或比赛中添加造好的题目。如果你希望将题目添加到公共题库（特指 https://oj.socoding.cn/problem/index 能看到的题目）或者添加到公共比赛（特指 https://oj.socoding.cn/contest/index 能看到的比赛），请联系任意任一香农先修班负责人。

#### Polygon System 使用流程

造题：

- 在 https://oj.socoding.cn/ 注册一个账户并登录。
- 顶部导航栏 - 后台 - 侧栏 - Polygon System。
- 创建题目。
- 填写标题 - 创建。
- 编辑 - 填写上面的栏目（下文有指导）- 保存。
- 解决方案 - 上传解决方案 - 保存。
- （如果启用了 Special Judge）Special Judge - 填写特判程序 - 保存。
- 测试数据 - 只需要上传输入文件，即 `*.in` - 开始上传 - 运行 - 等候输出文件自动生成。

同步到管理员后台自带的造题系统：

- 顶部导航栏 - 后台 - 侧栏 - 问题。
- Polygon 题目。
- 填写 Polygon 题目 ID - 提交。
- 从问题列表找到自己的题目，点击进入。
- （可选）编辑 - 补充来源 - 保存。
- （如果启用了 Special Judge）SPJ - 提交。

> Polygon System 不会编译你上传的 SPJ 程序，但是管理员后台自带的造题系统在点击 SPJ 栏目的提交按钮后会编译你提供的 SPJ 程序并保存，判题时会直接使用这个编译好的程序。所以一定要到管理员后台自带的造题系统手动点一下提交。否则学生的代码将无法被正常评判。
{.is-warning}

更新题目：

- 顶部导航栏 - 后台 - 侧栏 - Polygon System。
- 从问题列表找到自己的题目，点击进入。
- 参考造题一节更新题目并保存。
- 顶部导航栏 - 后台 - 侧栏 - 问题。
- Polygon 题目。
- 填写 Polygon 题目 ID - 提交。
- 从问题列表找到自己的题目，点击进入。
- （如果启用了 Special Judge）SPJ - 提交。

> 事实上就是重新导入这道题目，但公共题库的题目无需删除，重新导入会自动覆盖管理员后台自带造题系统对应的题目。对于在 Polygon System 创建的题目，尽量在 Polygon System 编辑题目后重新导入，而不是在管理员后台自带的造题系统直接编辑。后续版本的 SCNUOJ 会添加合适的逻辑减少操作量。
{.is-info}

> Polygon System 不支持 Special Judge 题目的验题，这意味着 Polygon System 只可以对文本比较型题目作验题，而管理员后台自带造题系统可以对两类题目做验题，后面会介绍如何在管理员后台自带造题系统验题。
{.is-info}

> 如果你的题目为 Special Judge 评测方式，无论是否改动特判程序，都请重新编译该程序。
{.is-warning}


#### 管理员后台自带的造题系统使用流程

造题或更新题目：

- 在 https://oj.socoding.cn/ 注册一个账户并登录。
- 顶部导航栏 - 后台 - 侧栏 - 问题。
- 创建题目（或找到自己的题目，点击进入）。
- 填写上面的栏目（下文有指导）- 保存。
- 测试数据 - 输入文件和输出文件都要上传，即 `*.in` 和对应的 `*.out` 文件 - 开始上传。
- （如果启用了 Special Judge）SPJ - 填写特判程序 - 保存。

验题：
- 顶部导航栏 - 后台 - 侧栏 - 问题。
- 从问题列表找到自己的题目，点击进入。
- 验题 - 提交一份代码。

> 在将题目添加至小组作业（方法见下文）前要完成验题。
{.is-warning}

### 出题思路
在 SCNUOJ 上布置的题目，主要目的应当是培养程序设计思维，让学生在见到程序设计类题目时可以有具体的实现想法，能将题面转化为逻辑化的程序语言，次之才是语法学习：例如题目是读入两个数后比较它们的大小，学生应该能马上意识到要声明两个变量，将读入的数字保存到变量，用分支语句比较两个变量的值，输出结果；鼓励在满足时空要求的前提下让学生做到一题多解，除非是希望学生刻意学习、刻意练习，非必要情况下不应当在语法上做过多限制，例如只能利用指针进行某个操作、必须声明一个什么函数等等。

题目可以来源课本和其它在线判题系统，也可以自己原创。特别地，对于《C 语言程序设计》课本原题，这些题目往往不是专门为 OJ 设计的，移植到 SCNUOJ 之前可能需要做一定的修改，详见下面章节的介绍；对于原创题，注意题目中不应过多涉及到其它学科的知识，如果涉及应当给予详细的解释，不应使其它学科的知识作为解题的重大障碍；思维难度应占主要部分，避免强行拼凑多个题目、条件或知识点而达到降低 AC 人数的目的。

### 题目描述

简而言之，题目描述需要清晰易懂。题面中的每个可能不被理解的定义都应得到解释，不应凭空冒出未加定义的概念。题面中涉及到的每个概念应当使用单一的词汇来描述。例如：不应一会儿说*费用*，一会儿说*代价*。不应不加说明地使用与原义、常见义不同的词汇。例如：不应不加说明地用*路径*代指一条*边*。顺着读题目描述应当能看懂每一句话，并理解题目的任务与要求。避免看了输入输出格式才能明白题意，甚至需要根据样例来猜题意。如果题目描述中包含题目背景，题目背景最好尽量简短。

**编写题目描述应该使用 Markdown 排版**，网上有大量 Markdown 相关的教程，通常情况下你可以使用自带的编辑完成加粗倾斜、添加代码块等操作，同时从编辑器右侧的预览框中看到排版效果。但是由于实际渲染和编辑器自带的渲染不一致，**不保证即见即所得**。下面通过一个例子说明，假设我希望渲染完是下面的内容：

---

有着女装 Buff 加成，一鸣师姐写起作业来也是贼快贼快的啦！

一天，一鸣师姐遇到了这样一道题：对于正整数 $n$，定义 $s(n)$ 的值是**数位和**恰好为 $n$ 的最小正整数，如 $s(10)=19$。现在给定 $n$，请你求出 $s(n)$ 的值。

一鸣师姐一下子就写出来了，聪明的你又能否做到呢？

---

对应的正确 Markdown 源文本是：

```
有着女装 Buff 加成，一鸣师姐写起作业来也是贼快贼快的啦！

一天，一鸣师姐遇到了这样一道题：对于正整数 $n$，定义 $s(n)$ 的值是**数位和**恰好为 $n$ 的最小正整数，如 $s(10)=19$。现在给定 $n$，请你求出 $s(n)$ 的值。

一鸣师姐一下子就写出来了，聪明的你又能否做到呢？
```

两个自然段之间必须添加一个空行，公式两边使用 `$$` 括起来。

有关如何使用 Latex 写公式请上网搜索，也有大量在线 Latex 公式编辑器可供使用。

此外还有一些排版规范需要遵守，**例如上面例子中变量必须使用公式，英文字母、公式或数字与汉字之间必须添加空格，** 具体请阅读 https://oj.socoding.cn/wiki/problem 。这很大程度上会影响学生的读题和做题体验。


### 输入输出格式

输入输出格式必须清晰、完整。

**请按照下面的模版编写输入格式要求：**

输入只有一行，包含两个用空格间隔的整数 $a,b \ (1 \leq a,b \leq 10^9)$，含义如题目描述所示。

```
输入只有一行，包含两个用空格间隔的整数 $a,b \ (1 \leq a,b \leq 10^9)$，含义如题目描述所示。
```

> 注意字母 $b$ 和左括号之间有一个空格。数据范围必须紧接变量后面给出，必须给出明确的数字范围，不能简单地说 $a,b$ 是整型数据或在整型范围内。数据范围中应当使用小于等于号，而不是小于号。大数需要使用科学计数法，例如 $10^9$，不能写成 $1000000000$，不能写成 $1e9$。
{.is-warning}

输入包含两行。

第一行包含一个整数 $n \ (1 \leq n \leq 2 \cdot 10^5)$，表示序列的长度。

第二行包含 $n$ 个用空格间隔的整数 $a_1,a_2,a_3,\cdots,a_n \ (1 \leq a_i \leq 10^9)$，表示序列。

```
输入包含两行。

第一行包含一个整数 $n \ (1 \leq n \leq 2 \cdot 10^5)$，表示序列的长度。

第二行包含 $n$ 个用空格间隔的整数 $a_1,a_2,a_3,\cdots,a_n \ (1 \leq a_i \leq 10^9)$，表示序列。
```

> 下标要从 $1$ 开始。数与数之间用空格间隔而不是逗号或其它符号。
{.is-warning}

输入包含若干行。

第一行包含一个整数 $n \ (1 \leq n \leq 2 \cdot 10^5)$，表示字符串的个数。

接下来 $n$ 行每行包含一个由小写英文字母组成的字符串 $s_i$，保证字符串长度 $|s_i| \leq 10^5$。

> 输入的字符串包含什么字符需要标明。但无论如何，整个输入文件中不应包含除了英文字母、数字和 `~!@#$%^&*()_+-={}|[]\:";'<>?,./` 之外的其它的任何字符，特别是制表符、全角标点和中日韩文字。
{.is-warning}

.
